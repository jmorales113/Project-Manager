!function(t){var e={};function r(s){if(e[s])return e[s].exports;var n=e[s]={i:s,l:!1,exports:{}};return t[s].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=e,r.d=function(t,e,s){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(s,n,function(e){return t[e]}.bind(null,n));return s},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=0)}([function(t,e,r){"use strict";r.r(e);class s{constructor(t,e,r,s){this.templateEl=document.getElementById(t),this.appendEl=document.getElementById(e);const n=document.importNode(this.templateEl.content,!0);this.sectionEl=n.firstElementChild,s&&(this.sectionEl.id=s),this.renderProjectList(r)}renderProjectList(t){this.appendEl.insertAdjacentElement(t?"afterbegin":"beforeend",this.sectionEl)}}const n=(t,e,r)=>{const s=r.value;return{configurable:!0,get(){return s.bind(this)}}};var i;!function(t){t[t.Active=0]="Active",t[t.Finished=1]="Finished"}(i||(i={}));class o{constructor(t,e,r,s,n){this.id=t,this.title=e,this.description=r,this.people=s,this.status=n}}class c extends class{constructor(){this.listeners=[]}addListener(t){this.listeners.push(t)}}{constructor(){super(),this.projects=[]}static getInstance(){return this.instance||(this.instance=new c),this.instance}addProject(t,e,r){const s=new o(Math.random().toString(),t,e,r,i.Active);this.projects.push(s),this.updateListeners()}moveProject(t,e){const r=this.projects.find(e=>e.id===t);r&&r.status!==e&&(r.status=e,this.updateListeners())}updateListeners(){for(const t of this.listeners)t(this.projects.slice())}}const l=c.getInstance();var a=function(t,e,r,s){var n,i=arguments.length,o=i<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,r,s);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(o=(i<3?n(o):i>3?n(e,r,o):n(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o};class d extends s{constructor(){super("project-input","app",!0,"user-input"),this.titleInputEl=this.sectionEl.querySelector("#title"),this.descriptionInputEl=this.sectionEl.querySelector("#description"),this.peopleInputEl=this.sectionEl.querySelector("#people"),this.renderList()}renderList(){this.sectionEl.addEventListener("submit",this.submitForm)}renderSection(){}userInput(){const t=this.titleInputEl.value,e=this.descriptionInputEl.value,r=this.peopleInputEl.value;return 0===t.trim().length||0===e.trim().length||0===r.trim().length?void alert("Invalid input, please try again!"):[t,e,+r]}wipeInputFields(){this.titleInputEl.value="",this.descriptionInputEl.value="",this.peopleInputEl.value=""}submitForm(t){t.preventDefault();const e=this.userInput();if(Array.isArray(e)){const[t,r,s]=e;l.addProject(t,r,s),this.wipeInputFields()}}}a([n],d.prototype,"submitForm",null);var p=function(t,e,r,s){var n,i=arguments.length,o=i<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,r,s);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(o=(i<3?n(o):i>3?n(e,r,o):n(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o};class u extends s{constructor(t,e){super("single-project",t,!1,e.id),this.project=e,this.renderList(),this.renderSection()}get members(){return 1===this.project.people?"1 member":this.project.people+" members"}dragStart(t){t.dataTransfer.setData("text/plain",this.project.id),t.dataTransfer.effectAllowed="move"}dragEnd(t){console.log("DragEnd")}renderList(){this.sectionEl.addEventListener("dragstart",this.dragStart),this.sectionEl.addEventListener("dragend",this.dragEnd)}renderSection(){this.sectionEl.querySelector("h2").textContent=this.project.title,this.sectionEl.querySelector("h3").textContent=this.members,this.sectionEl.querySelector("p").textContent=this.project.description}}p([n],u.prototype,"dragStart",null);var h=function(t,e,r,s){var n,i=arguments.length,o=i<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,r,s);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(o=(i<3?n(o):i>3?n(e,r,o):n(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o};class f extends s{constructor(t){super("project-list","app",!1,t+"-projects"),this.type=t,this.assignedProjects=[],this.renderList(),this.renderSection()}dragOver(t){if(t.dataTransfer&&"text/plain"===t.dataTransfer.types[0]){t.preventDefault();this.sectionEl.querySelector("ul").classList.add("drop")}}drop(t){const e=t.dataTransfer.getData("text/plain");l.moveProject(e,"Active"===this.type?i.Active:i.Finished)}dragLeave(t){this.sectionEl.querySelector("ul").classList.remove("drop")}renderList(){this.sectionEl.addEventListener("dragover",this.dragOver),this.sectionEl.addEventListener("dragleave",this.dragLeave),this.sectionEl.addEventListener("drop",this.drop),l.addListener(t=>{const e=t.filter(t=>"Active"===this.type?t.status===i.Active:t.status===i.Finished);this.assignedProjects=e,this.renderProjects()})}renderSection(){const t=this.type+"-projects-list";this.sectionEl.querySelector("ul").id=t,this.sectionEl.querySelector("h2").textContent=this.type+" Projects"}renderProjects(){document.getElementById(this.type+"-projects-list").innerHTML="";for(const t of this.assignedProjects)new u(this.sectionEl.querySelector("ul").id,t)}}h([n],f.prototype,"dragOver",null),h([n],f.prototype,"drop",null),h([n],f.prototype,"dragLeave",null),new d,new f("Active"),new f("Finished")}]);